
#ifndef __SHIKHARA_UART_H_
#define __SHIKHARA_UART_H_	1

/*PrimeCell UART (PL011) */

#define UART_PL01x_FR_TXFE              (1 << 7) //Transmit FIFO empty
#define UART_PL01x_FR_RXFF              (1 << 6) //Receive FIFO full
#define UART_PL01x_FR_TXFF              (1 << 5) //Transmit FIFO full
#define UART_PL01x_FR_RXFE              (1 << 4) //Receive FIFO empty

#define UART_PL011_LCRH_SPS             (1 << 7)
#define UART_PL011_LCRH_WLEN_8          (3 << 5)
#define UART_PL011_LCRH_WLEN_7          (2 << 5)
#define UART_PL011_LCRH_WLEN_6          (1 << 5)
#define UART_PL011_LCRH_WLEN_5          (0 << 5)
#define UART_PL011_LCRH_FEN             (1 << 4)
#define UART_PL011_LCRH_STP2            (1 << 3)
#define UART_PL011_LCRH_EPS             (1 << 2)
#define UART_PL011_LCRH_PEN             (1 << 1)
#define UART_PL011_LCRH_BRK             (1 << 0)

#define UART_PL011_CR_CTSEN             (1 << 15)
#define UART_PL011_CR_RTSEN             (1 << 14)
#define UART_PL011_CR_OUT2              (1 << 13)
#define UART_PL011_CR_OUT1              (1 << 12)
#define UART_PL011_CR_RTS               (1 << 11)
#define UART_PL011_CR_DTR               (1 << 10)
#define UART_PL011_CR_RXE               (1 << 9)
#define UART_PL011_CR_TXE               (1 << 8)
#define UART_PL011_CR_LPE               (1 << 7)
#define UART_PL011_CR_IIRLP             (1 << 2)
#define UART_PL011_CR_SIREN             (1 << 1)
#define UART_PL011_CR_UARTEN            (1 << 0)

#define baudrate 115200
void uart_init(void);
void uart_puts(const char* str);
unsigned char uart_getc();
void uart_putc(unsigned char byte);

#endif
